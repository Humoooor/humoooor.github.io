<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Rust å…¥é—¨ - Humoooor&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Humoooor&#039;s Blog"><meta name="msapplication-TileImage" content="/img/MyLogo.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Humoooor&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ä»…ä»…ä»‹ç» Rust çš„å®‰è£…ã€Cargoã€å˜é‡ã€æ•°æ®ç±»å‹ã€å‡½æ•°å’Œæ§åˆ¶æµ"><meta property="og:type" content="blog"><meta property="og:title" content="Rust å…¥é—¨"><meta property="og:url" content="https://humoooor.cn/2023/04/04/Rust%20%E5%85%A5%E9%97%A8/"><meta property="og:site_name" content="Humoooor&#039;s Blog"><meta property="og:description" content="ä»…ä»…ä»‹ç» Rust çš„å®‰è£…ã€Cargoã€å˜é‡ã€æ•°æ®ç±»å‹ã€å‡½æ•°å’Œæ§åˆ¶æµ"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://humoooor.cn/img/og_image.png"><meta property="article:published_time" content="2023-04-04T09:58:00.000Z"><meta property="article:modified_time" content="2023-04-06T09:59:10.509Z"><meta property="article:author" content="Humoooor"><meta property="article:tag" content="Rust"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://humoooor.cn/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://humoooor.cn/2023/04/04/Rust%20%E5%85%A5%E9%97%A8/"},"headline":"Rust å…¥é—¨","image":["https://humoooor.cn/img/og_image.png"],"datePublished":"2023-04-04T09:58:00.000Z","dateModified":"2023-04-06T09:59:10.509Z","author":{"@type":"Person","name":"Humoooor"},"publisher":{"@type":"Organization","name":"Humoooor's Blog","logo":{"@type":"ImageObject","url":"https://humoooor.cn/img/MyLogo.jpg"}},"description":"ä»…ä»…ä»‹ç» Rust çš„å®‰è£…ã€Cargoã€å˜é‡ã€æ•°æ®ç±»å‹ã€å‡½æ•°å’Œæ§åˆ¶æµ"}</script><link rel="canonical" href="https://humoooor.cn/2023/04/04/Rust%20%E5%85%A5%E9%97%A8/"><link rel="icon" href="/img/MyLogo.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Humoooor's Blog" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/MyLogo.jpg" alt="Humoooor&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">é¦–é¡µ</a><a class="navbar-item" href="/archives">å½’æ¡£</a><a class="navbar-item" href="/categories">åˆ†ç±»</a><a class="navbar-item" href="/tags">æ ‡ç­¾</a><a class="navbar-item" href="/friends">å‹é“¾</a><a class="navbar-item" href="/about">å…³äº</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/humoooor"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-04T09:58:00.000Z" title="2023/4/4 17:58:00">2023-04-04</time>å‘è¡¨</span><span class="level-item"><time dateTime="2023-04-06T09:59:10.509Z" title="2023/4/6 17:59:10">2023-04-06</time>æ›´æ–°</span><span class="level-item"><a class="link-muted" href="/categories/Tools/">Tools</a></span><span class="level-item">13 åˆ†é’Ÿè¯»å®Œ (å¤§çº¦1919ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile">Rust å…¥é—¨</h1><div class="content"><p>ä»…ä»…ä»‹ç» Rust çš„å®‰è£…ã€Cargoã€å˜é‡ã€æ•°æ®ç±»å‹ã€å‡½æ•°å’Œæ§åˆ¶æµ</p>
<span id="more"></span>

<p>ç¯å¢ƒï¼šUbuntu 22.04 rustc 1.68.2</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…</span></span><br><span class="line">$ curl --proto <span class="string">&#x27;=https&#x27;</span> --tlsv1.2 https://sh.rustup.rs -sSf | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°</span></span><br><span class="line">$ rustup update</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">$ rustup self uninstall</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ—¶ä¼šä¸‹è½½ rustup å·¥å…·ï¼Œå¹¶å®‰è£…æœ€æ–°ç‰ˆ Rust ä¸€ç³»åˆ—å·¥å…·ï¼ˆç¼–è¯‘å™¨ rustc ç­‰ï¼‰</p>
<p>rustup æ˜¯ä¸€ä¸ªç®¡ç† Rust ç‰ˆæœ¬å’Œç›¸å…³å·¥å…·çš„å‘½ä»¤è¡Œå·¥å…·</p>
<h2 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world!"></a>Hello world!</h2><p>ç¨‹åºå‘˜ä¼ ç»Ÿæ~</p>
<figure class="highlight rust"><figcaption><span>hello.rs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ rustc hello.rs ç¼–è¯‘</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Hello world!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>main</code> å‡½æ•°ï¼šä¸ç”¨å¤šè¯´ï¼Œç¨‹åºå…¥å£</p>
<p><code>println!</code>ï¼šè°ƒç”¨äº†ä¸€ä¸ªå®ï¼ˆå¦‚æœæ˜¯è°ƒç”¨å‡½æ•°ï¼Œåé¢æ²¡æœ‰<code>!</code>ï¼‰</p>
<p><code>&quot;Hello world!&quot;</code>ï¼šå°†å­—ç¬¦ä¸²ä¼ é€’ç»™ <code>println</code></p>
<p>åˆ†å· <code>;</code> ç»“å°¾ï¼šå¤§éƒ¨åˆ†è¯­å¥éƒ½ä»¥é—®å·ç»“å°¾</p>
<h2 id="Cargo"><a href="#Cargo" class="headerlink" title="Cargo"></a>Cargo</h2><p>Cargo æ˜¯ Rust çš„æ„å»ºç³»ç»Ÿå’ŒåŒ…ç®¡ç†å™¨ã€‚å¤§å¤šæ•° Rustacean ä»¬ä½¿ç”¨ Cargo æ¥ç®¡ç†ä»–ä»¬çš„ Rust é¡¹ç›®ï¼Œå› ä¸ºå®ƒå¯ä»¥ä¸ºä½ å¤„ç†å¾ˆå¤šä»»åŠ¡ï¼Œæ¯”å¦‚æ„å»ºä»£ç ã€ä¸‹è½½ä¾èµ–åº“å¹¶ç¼–è¯‘è¿™äº›åº“ã€‚</p>
<p>ä¸‹é¢çš„å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ª hello_cargo çš„é¡¹ç›®</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cargo new hello_cargo</span><br></pre></td></tr></table></figure>

<p>é‡Œé¢æœ‰ä¸€ä¸ª <code>Cargo.toml</code> æ–‡ä»¶ï¼Œè¿™æ˜¯ Cargo çš„é…ç½®æ–‡ä»¶</p>
<figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[package]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;hello_cargo&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">edition</span> = <span class="string">&quot;2021&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span></span><br><span class="line"></span><br><span class="line"><span class="section">[dependencies]</span></span><br></pre></td></tr></table></figure>

<p><code>[package]</code>ï¼šè¡¨æ˜ä¸‹é¢ä¸ºä¸€ä¸ªåŒ…çš„é…ç½®</p>
<p><code>[dependencies]</code>ï¼šç½—åˆ—é¡¹ç›®ä½¿ç”¨çš„ä¾èµ–ï¼Œä¾èµ–çš„ä»£ç åŒ…ä¹Ÿè¢«ç§°ä¸º crate</p>
<h3 id="æ„å»ºå¹¶è¿è¡Œé¡¹ç›®"><a href="#æ„å»ºå¹¶è¿è¡Œé¡¹ç›®" class="headerlink" title="æ„å»ºå¹¶è¿è¡Œé¡¹ç›®"></a>æ„å»ºå¹¶è¿è¡Œé¡¹ç›®</h3><p>ä¸‹é¢çš„å‘½ä»¤ç”¨äºæ„å»ºé¡¹ç›®ï¼Œå¹¶ç”Ÿæˆ target æ–‡ä»¶å¤¹å’Œ Cargo.lock æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cargo build</span><br></pre></td></tr></table></figure>

<p><code>target/debug/hello_carge</code> ä¸ºç¼–è¯‘å‡ºæ¥çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥ç¼–è¯‘å¹¶è¿è¡Œé¡¹ç›®ï¼Œæ›´åŠ æ–¹ä¾¿</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cargo run</span><br><span class="line">Â Â Compiling hello_cargo v0.1.0 (/home/humoooor/Code/RustPractice/hello_cargo)  </span><br><span class="line">Â Â Â Finished dev [unoptimized + debuginfo] target(s) <span class="keyword">in</span> 0.46s  </span><br><span class="line">Â Â Â Â Running `target/debug/hello_cargo`  </span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„å‘½ä»¤å¯ä»¥æ£€æŸ¥ä»£ç ç¡®ä¿å¯ä»¥ç¼–è¯‘</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cargo check</span><br><span class="line">Â Â Â Checking hello_cargo v0.1.0 (/home/humoooor/Code/RustPractice/hello_cargo)  </span><br><span class="line">Â Â Â Finished dev [unoptimized + debuginfo] target(s) <span class="keyword">in</span> 0.20s</span><br></pre></td></tr></table></figure>

<h3 id="å‘å¸ƒé¡¹ç›®"><a href="#å‘å¸ƒé¡¹ç›®" class="headerlink" title="å‘å¸ƒé¡¹ç›®"></a>å‘å¸ƒé¡¹ç›®</h3><p>åœ¨æ„å»ºæ—¶ä½¿ç”¨ <code>--release</code> å‚æ•°ï¼Œæ¥ä¼˜åŒ–ç¼–è¯‘é¡¹ç›®ï¼Œå¹¶åœ¨ <code>target/release</code> ç›®å½•ä¸‹ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ç”¨ä¼˜åŒ–ç¼–è¯‘æ—¶é—´æ›´é•¿ï¼Œä½†æ˜¯è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œæ²¡æœ‰è°ƒè¯•ä¿¡æ¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cargo build --release</span><br><span class="line">Â Â Compiling hello_cargo v0.1.0 (/home/humoooor/Code/RustPractice/hello_cargo)  </span><br><span class="line">Â Â Â Finished release [optimized] target(s) <span class="keyword">in</span> 0.19s</span><br></pre></td></tr></table></figure>

<h2 id="å˜é‡å’Œå¯å˜æ€§"><a href="#å˜é‡å’Œå¯å˜æ€§" class="headerlink" title="å˜é‡å’Œå¯å˜æ€§"></a>å˜é‡å’Œå¯å˜æ€§</h2><h3 id="å˜é‡å®šä¹‰"><a href="#å˜é‡å®šä¹‰" class="headerlink" title="å˜é‡å®šä¹‰"></a>å˜é‡å®šä¹‰</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [<span class="keyword">mut</span>] &#123;var_name&#125;: &#123;var_type&#125; = &#123;value&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="string">&quot;-1&quot;</span>;</span><br><span class="line"><span class="comment">// å°† x ä» &quot;-1&quot; è½¬æ¢æˆ -1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">i32</span> = x.<span class="title function_ invoke__">parse</span>().<span class="title function_ invoke__">except</span>(<span class="string">&quot;&quot;</span>); </span><br></pre></td></tr></table></figure>

<p>value_type å’Œ value å¿…é¡»å‡ºç°ä¸€ä¸ªï¼Œåœ¨æŸäº›æƒ…å†µï¼ˆå¦‚ç±»å‹è½¬æ¢ï¼‰ä¸‹ï¼Œä¸¤è€…éƒ½è¦å‡ºç°</p>
<p>æ¯æ¬¡åªå¯ä»¥å®šä¹‰ä¸€ä¸ªå˜é‡</p>
<h3 id="å¯å˜æ€§-mutable"><a href="#å¯å˜æ€§-mutable" class="headerlink" title="å¯å˜æ€§ mutable"></a>å¯å˜æ€§ mutable</h3><p>åœ¨ Rust ä¸­ï¼Œå˜é‡é»˜è®¤æ˜¯ä¸å¯æ”¹å˜çš„ï¼ˆimmutableï¼‰ï¼Œåœ¨å£°æ˜å˜é‡æ—¶åœ¨å˜é‡åå‰åŠ ä¸Š <code>mut</code> ä½¿å…¶å…·æœ‰å¯å˜æ€§</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;dd</span><br><span class="line">    <span class="comment">// x é»˜è®¤ä¸å¯å˜ï¼Œä¼šå‡ºç°ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">5</span>;</span><br><span class="line">    <span class="comment">// æ·»åŠ  mut åï¼Œå…è®¸ x çš„å€¼æ”¹å˜</span></span><br><span class="line">    <span class="comment">// let mut x = 5;</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;value of x: &#123;x&#125;&quot;</span>);</span><br><span class="line">    x = <span class="number">6</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;value of x: &#123;x&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¸¸é‡-const"><a href="#å¸¸é‡-const" class="headerlink" title="å¸¸é‡ const"></a>å¸¸é‡ const</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;const_name&#125;: &#123;const_type&#125; = &#123;const_value&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> PI: <span class="type">f32</span> = <span class="number">3.14</span>;</span><br></pre></td></tr></table></figure>

<p>å¿…é¡»æ³¨æ˜å¸¸é‡ç±»å‹</p>
<h3 id="éšè—"><a href="#éšè—" class="headerlink" title="éšè—"></a>éšè—</h3><p>ä¸€ä¸ªå˜é‡åå¯ä»¥é‡å¤å£°æ˜ï¼Œä¾¿äºåœ¨ç±»å‹è½¬æ¢ç­‰æƒ…å†µæ—¶å¤ç”¨å˜é‡åï¼Œå®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°å˜é‡ï¼Œä¹‹å‰çš„å˜é‡ä¼šè¢«éšè—ï¼Œç›´åˆ°æ–°å˜é‡çš„ä½œç”¨åŸŸç»“æŸ</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="string">&quot;-5&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span>: <span class="type">i32</span> = x.<span class="title function_ invoke__">parse</span>().<span class="title function_ invoke__">expect</span>(<span class="string">&quot;Not a number&quot;</span>);</span><br><span class="line">        x = x + <span class="number">5</span>;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;x = &#123;x&#125;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;x = &#123;x&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// x = 0</span></span><br><span class="line"><span class="comment">// x = -5</span></span><br></pre></td></tr></table></figure>

<h2 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h2><p>Rust æœ‰æ ‡é‡å’Œå¤åˆä¸¤ç±»æ•°æ®ç±»å‹</p>
<h3 id="æ ‡é‡ç±»å‹"><a href="#æ ‡é‡ç±»å‹" class="headerlink" title="æ ‡é‡ç±»å‹"></a>æ ‡é‡ç±»å‹</h3><h4 id="æ•´å‹-integer"><a href="#æ•´å‹-integer" class="headerlink" title="æ•´å‹ integer"></a>æ•´å‹ integer</h4><table>
<thead>
<tr>
<th>Len</th>
<th>signed</th>
<th>unsigned</th>
</tr>
</thead>
<tbody><tr>
<td>8-bit</td>
<td>i8</td>
<td>i8</td>
</tr>
<tr>
<td>32-bit</td>
<td>i32</td>
<td>i32</td>
</tr>
<tr>
<td>64-bit</td>
<td>i64</td>
<td>i64</td>
</tr>
<tr>
<td>128-bit</td>
<td>i128</td>
<td>i128</td>
</tr>
<tr>
<td>arch</td>
<td>isize</td>
<td>isize</td>
</tr>
<tr>
<td>Rust é»˜è®¤ç±»å‹ä¸º <code>i32</code></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>arch ä¾èµ–è®¡ç®—æœºæ¶æ„ï¼Œ64 ä½æ¶æ„ <code>isize</code> å°±æ˜¯ 64 ä½</p>
<p>æ•°å­—å¯ä½¿ç”¨ <code>_</code> ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ–¹ä¾¿è¯»æ•°ï¼Œå¦‚ <code>1000</code> è¡¨ç¤ºä¸º <code>1_000</code> </p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹åç¼€æ¥æŒ‡å®šæ•°å­—ç±»å‹ï¼Œå¦‚ <code>57u8</code> ä¸ºæ— ç¬¦å· 8-bit æ•´å‹</p>
<table>
<thead>
<tr>
<th>å­—é¢å€¼</th>
<th>ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td>Hex</td>
<td>0xff</td>
</tr>
<tr>
<td>Decimal</td>
<td>0o77</td>
</tr>
<tr>
<td>Octal</td>
<td>99</td>
</tr>
<tr>
<td>Binary</td>
<td>0b11</td>
</tr>
<tr>
<td>Byte</td>
<td>bâ€™aâ€™</td>
</tr>
</tbody></table>
<h4 id="æµ®ç‚¹å‹-float"><a href="#æµ®ç‚¹å‹-float" class="headerlink" title="æµ®ç‚¹å‹ float"></a>æµ®ç‚¹å‹ float</h4><p>Rust æµ®ç‚¹æ•°ç±»å‹æœ‰ <code>f32</code> å’Œ <code>f64</code>ï¼Œé»˜è®¤ä¸º <code>f64</code> ç±»å‹ï¼Œç²¾åº¦æ›´é«˜</p>
<h4 id="å¸ƒå°”å‹-bool"><a href="#å¸ƒå°”å‹-bool" class="headerlink" title="å¸ƒå°”å‹ bool"></a>å¸ƒå°”å‹ bool</h4><p><code>true</code> å’Œ <code>false</code> ä¸¤ä¸ªå€¼</p>
<h4 id="å­—ç¬¦å‹-char"><a href="#å­—ç¬¦å‹-char" class="headerlink" title="å­—ç¬¦å‹ char"></a>å­—ç¬¦å‹ char</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">c</span> = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">heart_eyed_cat</span>: <span class="type">char</span> = &#x27;ğŸ˜»&#x27;;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„ <code>char</code> å¤§å°æ˜¯å››ä¸ªå­—èŠ‚ï¼ŒUnicode ç¼–ç ï¼Œå¯ä»¥è¡¨ç¤ºæ¯” ASCII æ›´å¤šçš„å†…å®¹ï¼Œå¦‚ä¸­æ—¥éŸ©æ–‡ã€emoji ç­‰</p>
<p>å­—ç¬¦å‹çš„å€¼å¿…é¡»ä½¿ç”¨å•å¼•å·è¡¨ç¤ºï¼ŒåŒå¼•å·ä¸ºå­—ç¬¦ä¸²</p>
<h3 id="å¤åˆç±»å‹"><a href="#å¤åˆç±»å‹" class="headerlink" title="å¤åˆç±»å‹"></a>å¤åˆç±»å‹</h3><h4 id="å…ƒç»„-tuple"><a href="#å…ƒç»„-tuple" class="headerlink" title="å…ƒç»„ tuple"></a>å…ƒç»„ tuple</h4><p>å…ƒç»„å¯ä»¥å°†å¤šä¸ªç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹ï¼Œé•¿åº¦ä¸å¯å˜ï¼Œç±»ä¼¼ C è¯­è¨€çš„ç»“æ„ä½“</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">tup</span>: (<span class="type">i32</span>, <span class="type">f64</span>, <span class="type">u8</span>) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>ç±»å‹å¯çœç•¥ï¼Œçœç•¥åä¸ºé»˜è®¤ç±»å‹</p>
<p>ä»å…ƒç»„ä¸Šå–å€¼</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">tup</span>: (<span class="type">i32</span>, <span class="type">f64</span>, <span class="type">u8</span>) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æ„ï¼Œdestructuring</span></span><br><span class="line"><span class="keyword">let</span> (x, y, z) = tup;</span><br><span class="line"><span class="comment">// ç´¢å¼•</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = tup.<span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">y</span> = tup.<span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">z</span> = tup.<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>ä¸å¸¦ä»»ä½•å€¼çš„å…ƒç»„ï¼Œç§°ä¸ºå•å…ƒå…ƒç»„</p>
<h4 id="æ•°ç»„-array"><a href="#æ•°ç»„-array" class="headerlink" title="æ•°ç»„ array"></a>æ•°ç»„ array</h4><p>æ•°ç»„çš„å…ƒç´ ç±»å‹å¿…é¡»ç›¸åŒï¼Œé•¿åº¦å›ºå®š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="comment">// é•¿åº¦ä¸º 4ï¼Œå…ƒç´ ç±»å‹ä¸º i32 çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">a</span>: [<span class="type">i32</span>; <span class="number">4</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="comment">// é•¿åº¦ä¸º 5ï¼Œå…ƒç´ å…¨ä¸º 3 çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„å…ƒç´ è®¿é—®</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">first</span> = a[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<p>è¶Šç•Œè®¿é—®ä¼šç›´æ¥å¯¼è‡´ panicï¼Œè¿™æ˜¯ Rust çš„ä¸€ä¸ªå®‰å…¨æœºåˆ¶</p>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>ä½¿ç”¨ <code>fn</code> å…³é”®å­—å£°æ˜å‡½æ•°ï¼Œå‡½æ•°åå’Œå˜é‡åä½¿ç”¨ <code>snake case</code> è§„èŒƒé£æ ¼ï¼Œå­—æ¯å…¨éƒ¨å°å†™</p>
<p>Rust ä¸åƒ C è¯­è¨€éœ€è¦åœ¨ è°ƒç”¨å‡½æ•° çš„å‰é¢å£°æ˜ è¢«è°ƒç”¨å‡½æ•°</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> &#123;func_name&#125; (&#123;var_name1&#125;: &#123;var_type1&#125;, ..) <span class="punctuation">-&gt;</span> &#123;ret_type&#125;&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;x&#125; + &#123;y&#125; = &#123;&#125;&quot;</span>, <span class="title function_ invoke__">my_func</span>(x, y));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">my_func</span>(x: <span class="type">i32</span>, y: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¿…é¡»æŒ‡å®šå‚æ•°ç±»å‹</p>
<h3 id="è¡¨è¾¾å¼å’Œè¯­å¥"><a href="#è¡¨è¾¾å¼å’Œè¯­å¥" class="headerlink" title="è¡¨è¾¾å¼å’Œè¯­å¥"></a>è¡¨è¾¾å¼å’Œè¯­å¥</h3><p>Rust æ˜¯<strong>åŸºäºè¡¨è¾¾å¼</strong>çš„è¯­è¨€</p>
<p>è¡¨è¾¾å¼ï¼šè®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚å¤§éƒ¨åˆ† Rust ä»£ç ç”±è¡¨è¾¾å¼ç»„æˆï¼Œæ•°å­¦è¿ç®—ã€å‡½æ•°è°ƒç”¨ã€å®è°ƒç”¨ã€å¤§æ‹¬å·åˆ›å»ºçš„å—ä½œç”¨äºéƒ½æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</p>
<p>è¯­å¥ï¼šæ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚å½“è¡¨è¾¾å¼ç»“å°¾åŠ ä¸Šåˆ†å·æ—¶ï¼Œå®ƒå°±å˜æˆäº†è¯­å¥ã€‚å‡½æ•°å®šä¹‰ä¹Ÿæ˜¯ä¸€ä¸ªè¯­å¥</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">y</span> = &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">3</span>;</span><br><span class="line">    x + <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;y&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// output: </span></span><br><span class="line"><span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„ä»£ç å— <code>&#123;let x = 3; x + 1&#125;</code> ç”±äºç»“å°¾æ²¡æœ‰åˆ†å·ï¼Œæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›å€¼æ˜¯ 4</p>
<p>åœ¨æœ‰è¿”å›å€¼çš„å‡½æ•°ä¸­å¯ä»¥ä¸»åŠ¨ä½¿ç”¨ <code>return</code> è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥éšå¼åœ°è¿”å›å‡½æ•°ä¸­æœ€åçš„è¡¨è¾¾å¼</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">my_func</span>(x: <span class="type">i32</span>, y: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">my_func</span>(x: <span class="type">i32</span>, y: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿”å›è¡¨è¾¾å¼æ—¶ï¼Œç»“å°¾ä¸å¯åŠ åˆ†å·ï¼Œå¦åˆ™å®ƒå°±ä¸æ˜¯è¡¨è¾¾å¼äº†</p>
<h2 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h2><p>Rust ä¸­æ§åˆ¶æµçš„è¡¨è¾¾å¼å¿…é¡»è¿”å› bool ç±»å‹</p>
<h3 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">number</span> = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> number % <span class="number">4</span> == <span class="number">0</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;number is divisible by 4&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> number % <span class="number">3</span> == <span class="number">0</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;number is divisible by 3&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> number % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;number is divisible by 2&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;number is not divisible by 4, 3, or 2&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ <code>let</code> è¯­å¥ä¸­ä½¿ç”¨ if-else</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">condition</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">number</span> = <span class="keyword">if</span> condition &#123; <span class="number">5</span> &#125; <span class="keyword">else</span> &#123; <span class="number">6</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;The value of number is: &#123;number&#125;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<h3 id="loopã€whileã€for"><a href="#loopã€whileã€for" class="headerlink" title="loopã€whileã€for"></a>loopã€whileã€for</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ— é™å¾ªç¯</span></span><br><span class="line"><span class="keyword">loop</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;again!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">i</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ç§éå†æ•°ç»„çš„æ–¹å¼</span></span><br><span class="line"><span class="keyword">while</span> i &lt; a.<span class="title function_ invoke__">len</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;a[&#123;i&#125;] = &#123;&#125;&quot;</span>, a[i]);</span><br><span class="line">    i += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0..a.len() ç›¸å½“äº Python çš„ range(0, len(a))</span></span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span>..a.<span class="title function_ invoke__">len</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;a[&#123;i&#125;] = &#123;&#125;&quot;</span>, a[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>breakã€continue</strong></p>
<p>ç®€å•çš„ <code>break</code>ã€<code>continue</code> å¯ä»¥è·³å‡ºä¸€å±‚å¾ªç¯</p>
<p><code>break</code>ã€<code>continue</code> ååŠ ä¸Šè¡¨è¾¾å¼ï¼Œå¯ä»¥è¿”å›å€¼</p>
<p>æƒ³è¦è·³å‡ºåµŒå¥—å¾ªç¯ï¼Œåœ¨æŒ‡å®šå¾ªç¯å‰æ ‡è®°ä¸€ä¸ª<strong>å¾ªç¯æ ‡ç­¾</strong>ï¼Œä¸ <code>break</code> æˆ– <code>continue</code> ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥ä½œç”¨äºæ ‡è®°çš„å¾ªç¯ï¼Œ<code>å¾ªç¯æ ‡ç­¾</code>å‰éœ€è¦åŠ å•å¼•å· <code>&#39;</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">loop</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;again!&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// res = 20</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">res</span> = <span class="keyword">loop</span> &#123;</span><br><span class="line">    counter += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> counter == <span class="number">10</span> &#123;</span><br><span class="line">        <span class="keyword">break</span> counter * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åµŒå¥—å¾ªç¯</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">count</span> = <span class="number">0</span>;</span><br><span class="line"><span class="symbol">&#x27;counting_up</span>: <span class="keyword">loop</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;count = &#123;count&#125;&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">remaining</span> = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;remaining = &#123;remaining&#125;&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> remaining == <span class="number">9</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> count == <span class="number">2</span> &#123;</span><br><span class="line">            <span class="keyword">break</span> <span class="symbol">&#x27;counting_up</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        remaining -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    count += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;End count = &#123;count&#125;&quot;</span>);</span><br></pre></td></tr></table></figure></div><div class="article-licensing box"><div class="licensing-title"><p>Rust å…¥é—¨</p><p><a href="https://humoooor.cn/2023/04/04/Rust å…¥é—¨/">https://humoooor.cn/2023/04/04/Rust å…¥é—¨/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>ä½œè€…</h6><p>Humoooor</p></div></div><div class="level-item is-narrow"><div><h6>å‘å¸ƒäº</h6><p>2023-04-04</p></div></div><div class="level-item is-narrow"><div><h6>æ›´æ–°äº</h6><p>2023-04-06</p></div></div><div class="level-item is-narrow"><div><h6>è®¸å¯åè®®</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Rust/">Rust</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2023/04/09/2023.04/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">2023.04</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/11/12/Lab5_Copy_on_write_fork/"><span class="level-item">Lab5 Copy-on-write fork</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">è¯„è®º</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "101aebbae205d3523c226a5fa9030a1e",
            repo: "humoooor.github.io",
            owner: "Humoooor",
            clientID: "2262fbb1802e5dc5cc56",
            clientSecret: "55e61f8ed70fa2bcec90cf254ac1864f21cb350b",
            admin: ["Humoooor"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/MyLogo.jpg" alt="Humoooor"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Humoooor</p><p class="is-size-6 is-block">Free to Hack</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">5</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/humoooor" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/humoooor"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:humoooor@qq.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">ç›®å½•</h3><ul class="menu-list"><li><a class="level is-mobile" href="#å®‰è£…"><span class="level-left"><span class="level-item">1</span><span class="level-item">å®‰è£…</span></span></a></li><li><a class="level is-mobile" href="#Hello-world"><span class="level-left"><span class="level-item">2</span><span class="level-item">Hello world!</span></span></a></li><li><a class="level is-mobile" href="#Cargo"><span class="level-left"><span class="level-item">3</span><span class="level-item">Cargo</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æ„å»ºå¹¶è¿è¡Œé¡¹ç›®"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">æ„å»ºå¹¶è¿è¡Œé¡¹ç›®</span></span></a></li><li><a class="level is-mobile" href="#å‘å¸ƒé¡¹ç›®"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">å‘å¸ƒé¡¹ç›®</span></span></a></li></ul></li><li><a class="level is-mobile" href="#å˜é‡å’Œå¯å˜æ€§"><span class="level-left"><span class="level-item">4</span><span class="level-item">å˜é‡å’Œå¯å˜æ€§</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#å˜é‡å®šä¹‰"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">å˜é‡å®šä¹‰</span></span></a></li><li><a class="level is-mobile" href="#å¯å˜æ€§-mutable"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">å¯å˜æ€§ mutable</span></span></a></li><li><a class="level is-mobile" href="#å¸¸é‡-const"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">å¸¸é‡ const</span></span></a></li><li><a class="level is-mobile" href="#éšè—"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">éšè—</span></span></a></li></ul></li><li><a class="level is-mobile" href="#åŸºæœ¬æ•°æ®ç±»å‹"><span class="level-left"><span class="level-item">5</span><span class="level-item">åŸºæœ¬æ•°æ®ç±»å‹</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æ ‡é‡ç±»å‹"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">æ ‡é‡ç±»å‹</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æ•´å‹-integer"><span class="level-left"><span class="level-item">5.1.1</span><span class="level-item">æ•´å‹ integer</span></span></a></li><li><a class="level is-mobile" href="#æµ®ç‚¹å‹-float"><span class="level-left"><span class="level-item">5.1.2</span><span class="level-item">æµ®ç‚¹å‹ float</span></span></a></li><li><a class="level is-mobile" href="#å¸ƒå°”å‹-bool"><span class="level-left"><span class="level-item">5.1.3</span><span class="level-item">å¸ƒå°”å‹ bool</span></span></a></li><li><a class="level is-mobile" href="#å­—ç¬¦å‹-char"><span class="level-left"><span class="level-item">5.1.4</span><span class="level-item">å­—ç¬¦å‹ char</span></span></a></li></ul></li><li><a class="level is-mobile" href="#å¤åˆç±»å‹"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">å¤åˆç±»å‹</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#å…ƒç»„-tuple"><span class="level-left"><span class="level-item">5.2.1</span><span class="level-item">å…ƒç»„ tuple</span></span></a></li><li><a class="level is-mobile" href="#æ•°ç»„-array"><span class="level-left"><span class="level-item">5.2.2</span><span class="level-item">æ•°ç»„ array</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#å‡½æ•°"><span class="level-left"><span class="level-item">6</span><span class="level-item">å‡½æ•°</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#è¡¨è¾¾å¼å’Œè¯­å¥"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">è¡¨è¾¾å¼å’Œè¯­å¥</span></span></a></li></ul></li><li><a class="level is-mobile" href="#æ§åˆ¶æµ"><span class="level-left"><span class="level-item">7</span><span class="level-item">æ§åˆ¶æµ</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#if-else"><span class="level-left"><span class="level-item">7.1</span><span class="level-item">if-else</span></span></a></li><li><a class="level is-mobile" href="#loopã€whileã€for"><span class="level-left"><span class="level-item">7.2</span><span class="level-item">loopã€whileã€for</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-06-05T03:04:00.000Z">2023-06-05</time></p><p class="title"><a href="/2023/06/05/2023.06/">2023.06</a></p><p class="categories"><a href="/categories/MonthReport/">MonthReport</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-05-23T03:21:00.000Z">2023-05-23</time></p><p class="title"><a href="/2023/05/23/Xv6%20%E5%89%96%E6%9E%90/">Xv6 å‰–æ</a></p><p class="categories"><a href="/categories/Course/">Course</a> / <a href="/categories/Course/MIT-6-1810-2022Fall/">MIT 6.1810 2022Fall</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-05-10T12:05:00.000Z">2023-05-10</time></p><p class="title"><a href="/2023/05/10/2023.05/">2023.05</a></p><p class="categories"><a href="/categories/MonthReport/">MonthReport</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-09T08:00:00.000Z">2023-04-09</time></p><p class="title"><a href="/2023/04/09/2023.04/">2023.04</a></p><p class="categories"><a href="/categories/MonthReport/">MonthReport</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-04T09:58:00.000Z">2023-04-04</time></p><p class="title"><a href="/2023/04/04/Rust%20%E5%85%A5%E9%97%A8/">Rust å…¥é—¨</a></p><p class="categories"><a href="/categories/Tools/">Tools</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Operating-System/"><span class="tag">Operating System</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Pwn/"><span class="tag">Pwn</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RISC-V/"><span class="tag">RISC-V</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Rust/"><span class="tag">Rust</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Xv6/"><span class="tag">Xv6</span><span class="tag">7</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/MyLogo.jpg" alt="Humoooor&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2023 Humoooor</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/humoooor"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "æ­¤ç½‘ç«™ä½¿ç”¨Cookieæ¥æ”¹å–„æ‚¨çš„ä½“éªŒã€‚",
          dismiss: "çŸ¥é“äº†ï¼",
          allow: "å…è®¸ä½¿ç”¨Cookie",
          deny: "æ‹’ç»",
          link: "äº†è§£æ›´å¤š",
          policy: "Cookieæ”¿ç­–",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script></body></html>